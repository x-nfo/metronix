import{l as y,v as C,f as u,a as s,w as r,o as p,d as f,t as m,b as t,u as l,F as $,z as V,e as B,n as q,x,A as E}from"./app-96717d12.js";import{_ as d,a as F,b as g}from"./TextInput-d300ef12.js";import{_ as N,a as U}from"./SecondaryButton-a043940f.js";import{_ as z}from"./PrimaryButton-108d091e.js";import{_ as A}from"./Checkbox-58adaf0f.js";const D={class:"space-y-6"},M=["onSubmit"],R={class:"my-1"},j={class:"mb-8"},L={class:"mb-8 form-group"},O={class:"form-check d-flex align-items-center col-3"},T={class:"form-check form-check-custom form-check-solid"},G=["id","value"],H={class:"d-flex gap-4"},W={__name:"Create",props:{show:Boolean,title:String,permissions:Object},emits:["close"],setup(v,{emit:_}){const c=v,n=y({multipleSelect:!1}),e=C({name:"",guard_name:"web",permissions:[]}),h=()=>{e.post(route("role.store"),{preserveScroll:!0,onSuccess:()=>{_("close"),e.reset(),n.multipleSelect=!1},onError:()=>null,onFinish:()=>null})},b=o=>{o.target.checked===!1?e.permissions=[]:(e.permissions=[],c.permissions.forEach(a=>{e.permissions.push(a.id)}))},k=()=>{c.permissions.length==e.permissions.length?n.multipleSelect=!0:n.multipleSelect=!1};return(o,a)=>(p(),u("section",D,[s(N,{id:"modal_create",width:"mw-850px"},{title:r(()=>[f(m(o.lang().label.add)+" "+m(c.title),1)]),body:r(()=>[t("form",{onSubmit:B(h,["prevent"])},[t("div",R,[t("div",j,[s(d,{for:"name",value:o.lang().label.role,isRequired:!0},null,8,["value"]),s(F,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:l(e).name,"onUpdate:modelValue":a[0]||(a[0]=i=>l(e).name=i),required:"",placeholder:o.lang().placeholder.name,error:l(e).errors.name},null,8,["modelValue","placeholder","error"]),s(g,{class:"mt-2",message:l(e).errors.name},null,8,["message"])]),t("div",L,[s(d,{value:o.lang().label.permission,isRequired:!0},null,8,["value"]),s(g,{class:"mt-2",message:l(e).errors.permissions},null,8,["message"]),t("div",O,[s(A,{id:"permission-all",class:"me-2",checked:n.multipleSelect,"onUpdate:checked":a[1]||(a[1]=i=>n.multipleSelect=i),onChange:b},null,8,["checked"]),s(d,{for:"permission-all",value:o.lang().label.check_all},null,8,["value"])]),(p(!0),u($,null,V(c.permissions,(i,S)=>(p(),u("div",{class:"form-check form-check-inline col-3",key:S},[t("div",T,[x(t("input",{onChange:k,class:"form-check-input me-2",type:"checkbox",id:"permission_"+i.id,value:i.id,"onUpdate:modelValue":a[2]||(a[2]=w=>l(e).permissions=w)},null,40,G),[[E,l(e).permissions]]),s(d,{for:"permission_"+i.id,value:i.name},null,8,["for","value"])])]))),128))])])],40,M)]),footer:r(()=>[t("div",H,[s(U,{disabled:l(e).processing,onClick:a[3]||(a[3]=i=>_("close"))},{default:r(()=>[f(m(o.lang().button.close),1)]),_:1},8,["disabled"]),s(z,{class:q(["ml-3",{"opacity-25":l(e).processing}]),disabled:l(e).processing,onClick:h},{default:r(()=>[f(m(l(e).processing?o.lang().button.add+"...":o.lang().button.add),1)]),_:1},8,["class","disabled"])])]),_:1})]))}};export{W as default};
