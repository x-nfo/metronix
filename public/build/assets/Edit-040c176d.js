import{v as V,B as h,f as y,a,w as t,o as S,d as c,t as u,b as n,u as s,e as $,n as B}from"./app-96717d12.js";import{_ as i,a as p,b as m}from"./TextInput-d300ef12.js";import{_ as U,a as k}from"./SecondaryButton-a043940f.js";import{_ as q}from"./PrimaryButton-108d091e.js";import{_ as C}from"./SelectInput-521072bf.js";const E={class:"space-y-6"},j=["onSubmit"],N={class:"my-1"},O={class:"mb-8"},R={class:"mb-8"},z={class:"mb-8"},D={class:"mb-8"},F={class:"mb-8"},M={class:"d-flex justify-content-end gap-2"},J={__name:"Edit",props:{show:Boolean,title:String,user:Object,roles:Object},emits:["close"],setup(v,{emit:f}){var _;const d=v,e=V({name:"",email:"",password:"",password_confirmation:"",role:""}),g=()=>{var l;e.put(route("user.update",(l=d.user)==null?void 0:l.id),{preserveScroll:!0,onSuccess:()=>{f("close"),e.reset()},onError:()=>null,onFinish:()=>null})};h(()=>{var l,o,r,b;d.show&&(e.name=(l=d.user)==null?void 0:l.name,e.email=(o=d.user)==null?void 0:o.email,e.role=((r=d.user)==null?void 0:r.roles)==0?"":(b=d.user)==null?void 0:b.roles[0].name,e.errors={})});const w=(_=d.roles)==null?void 0:_.map(l=>({label:l.name,value:l.name}));return(l,o)=>(S(),y("section",E,[a(U,{id:"modal_edit"},{title:t(()=>[c(u(l.lang().label.edit)+" "+u(l.lang().label.user),1)]),body:t(()=>[n("form",{onSubmit:$(g,["prevent"])},[n("div",N,[n("div",O,[a(i,{for:"name",value:l.lang().label.name,isRequired:!0},null,8,["value"]),a(p,{type:"text",modelValue:s(e).name,"onUpdate:modelValue":o[0]||(o[0]=r=>s(e).name=r),required:"",placeholder:l.lang().placeholder.name,error:s(e).errors.name},null,8,["modelValue","placeholder","error"]),a(m,{class:"mt-2",message:s(e).errors.name},null,8,["message"])]),n("div",R,[a(i,{for:"email",value:l.lang().label.email},null,8,["value"]),a(p,{type:"email",modelValue:s(e).email,"onUpdate:modelValue":o[1]||(o[1]=r=>s(e).email=r),placeholder:l.lang().placeholder.email,error:s(e).errors.email},null,8,["modelValue","placeholder","error"]),a(m,{class:"mt-2",message:s(e).errors.email},null,8,["message"])]),n("div",z,[a(i,{for:"password",value:l.lang().label.password},null,8,["value"]),a(p,{type:"password",class:"",modelValue:s(e).password,"onUpdate:modelValue":o[2]||(o[2]=r=>s(e).password=r),placeholder:l.lang().placeholder.password,error:s(e).errors.password},null,8,["modelValue","placeholder","error"]),a(m,{class:"mt-2",message:s(e).errors.password},null,8,["message"])]),n("div",D,[a(i,{for:"password_confirmation",value:l.lang().label.password_confirmation},null,8,["value"]),a(p,{type:"password",modelValue:s(e).password_confirmation,"onUpdate:modelValue":o[3]||(o[3]=r=>s(e).password_confirmation=r),placeholder:l.lang().placeholder.password_confirmation,error:s(e).errors.password_confirmation},null,8,["modelValue","placeholder","error"]),a(m,{class:"mt-2",message:s(e).errors.password_confirmation},null,8,["message"])]),n("div",F,[a(i,{for:"role",value:l.lang().label.role,isRequired:!0},null,8,["value"]),a(C,{id:"role",class:"",modelValue:s(e).role,"onUpdate:modelValue":o[4]||(o[4]=r=>s(e).role=r),required:"",dataSet:s(w)},null,8,["modelValue","dataSet"]),a(m,{class:"mt-2",message:s(e).errors.role},null,8,["message"])])])],40,j)]),footer:t(()=>[n("div",M,[a(k,{disabled:s(e).processing,onClick:o[5]||(o[5]=r=>f("close"))},{default:t(()=>[c(u(l.lang().button.close),1)]),_:1},8,["disabled"]),a(q,{class:B(["ml-3",{"opacity-25":s(e).processing}]),disabled:s(e).processing,onClick:g},{default:t(()=>[c(u(s(e).processing?l.lang().button.save+"...":l.lang().button.save),1)]),_:1},8,["class","disabled"])])]),_:1})]))}};export{J as default};
